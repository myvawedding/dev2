"use strict";!function(a){DRTS.Location.api.autocomplete=function(o,e){var t=a(o);if(t.length){var n={appId:DRTS_Location_algoliaAutocomplete.appId,apiKey:DRTS_Location_algoliaAutocomplete.apiKey,aroundLatLngViaIP:!1};DRTS_Location_algoliaAutocomplete.country&&DRTS_Location_algoliaAutocomplete.country instanceof Array&&(n.countries=DRTS_Location_algoliaAutocomplete.country),t.each(function(o,t){var a=n;a.container=t,places(a).on("change",function(o){console.log("Algolia autocomplete results:",o.suggestion);var t={latlng:[o.suggestion.latlng.lat,o.suggestion.latlng.lng],address:o.suggestion.value,street:o.suggestion.name,city:o.suggestion.city,province:o.suggestion.administrative,zip:o.suggestion.postcode,country:o.suggestion.country};e(t)})})}},DRTS.Location.api.getSuggestions=function(o,g){var t={query:o,aroundLatLngViaIP:!1};DRTS_Location_algoliaAutocomplete.country&&DRTS_Location_algoliaAutocomplete.country instanceof Array&&(t.countries=DRTS_Location_algoliaAutocomplete.country.join(",").toLowerCase()),algoliasearch.initPlaces(DRTS_Location_algoliaAutocomplete.appId,DRTS_Location_algoliaAutocomplete.apiKey).search(t,function(o,t){if(o)throw o;console.log("Algolia places REST API results:",t);var a=[],e=!0,n=!1,i=void 0;try{for(var l,c=t.hits[Symbol.iterator]();!(e=(l=c.next()).done);e=!0){var u=l.value;a.push({text:u.locale_names.default[0],latlng:[u._geoloc.lat,u._geoloc.lng]})}}catch(o){n=!0,i=o}finally{try{!e&&c.return&&c.return()}finally{if(n)throw i}}g(a)})}}(jQuery);