"use strict";var _createClass=function(){function i(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(a){DRTS.Map=DRTS.Map||{},DRTS.Map.api={settings:{},getMap:function(t,e){}},DRTS.Map.markerHeight=function(t){var e=t*Math.sqrt(2);return e-(e-t)/2},DRTS.Map.enableDirections=function(n){var r=n.getContainer().find(".drts-map-directions");r.length&&(r.find(".drts-map-directions-input").val(""),DRTS.Location&&DRTS.Location.api&&DRTS.Location.api.autocomplete(".drts-map-directions-input",function(){}),r.find(".drts-map-directions-trigger").on("click",function(t){var e,o,i=void 0;t.preventDefault(),""!==(e=r.find(".drts-map-directions-destination").val())&&((i=n.getMarkerPosition(e))?(o="https://www.google.com/maps/dir/?api=1&origin="+encodeURIComponent(r.find(".drts-map-directions-input").val())+"&destination="+encodeURIComponent(i.join(","))+"&travelmode="+encodeURIComponent(a(this).data("travel-mode")||"driving"),console.log(o),window.open().location.href=o):console.log("Invalid destination"))}))},DRTS.Map.map=function(){function o(t,e){_classCallCheck(this,o),t instanceof jQuery?(this.container=t,this.containerSelector="#"+t.attr("id")):(this.container=a(t),this.containerSelector=t),this.options=e,this.options.infobox=!(void 0!==this.options.infobox&&!this.options.infobox),this.options.infobox_event=this.options.infobox_event||"click",this.options.default_location=this.options.default_location||{lat:40.69847,lng:-73.95144},this.options.default_zoom=parseInt(this.options.default_zoom,10)||10,this.options.scrollwheel=this.options.scrollwheel||!1,this.markers=[],this.currentMarker=null,this.popover=null,this.$map=this.container.find(".drts-map-map").addClass("drts-popover-ignore-click").outerHeight(this.options.height)}return _createClass(o,[{key:"getOptions",value:function(){return this.options}},{key:"getContainer",value:function(){return this.container}},{key:"getContainerSelector",value:function(){return this.containerSelector}},{key:"setMarkers",value:function(t){for(var e in t)this.addMarker(t[e]);return this}},{key:"clearMarkers",value:function(){return this.markers=[],this}},{key:"addMarker",value:function(t){}},{key:"getMarker",value:function(t){if(!1!=t in this.markers)return this.markers[t]}},{key:"getMarkerPosition",value:function(t){}},{key:"clickMarker",value:function(t,e){}},{key:"draw",value:function(t){}},{key:"onResized",value:function(){}},{key:"getZoom",value:function(){}},{key:"getSouthWest",value:function(){}},{key:"getNorthEast",value:function(){}},{key:"getPopover",value:function(t,e,o){var i=this;if(this.options.infobox){if(!this.popover){var n=this.container.find("span.drts-map-popover");n.length||(n=a('<span style="position:absolute;" class="drts-map-popover"></span>').prependTo(this.container.find(".drts-map-container"))),DRTS.popover(n.removeClass("drts-popover-processed"),{html:!0,template:'<div class="'+DRTS.bsPrefix+"popover drts-map-popover "+DRTS.bsPrefix+'p-0" style="width:'+(this.options.infobox_width||240)+'px"><div class="'+DRTS.bsPrefix+'arrow"></div><div class="'+DRTS.bsPrefix+"close "+DRTS.bsPrefix+'p-1 drts-map-popover-close" aria-label="Close"><i aria-hidden="true" class="fas fa-times"></i></div><div class="'+DRTS.bsPrefix+"popover-body "+DRTS.bsPrefix+'p-0"></div></div>',placement:"top",container:this.container}),n.on("hidden.bs.popover",function(){i.currentMarker=null}),this.popover=n}if(t){var r=t.y;e&&(r-=e),this.popover.css({left:t.x+"px",top:r+"px"})}return o&&this.popover.attr("data-content",o),this.popover}}}]),o}()}(jQuery);