"use strict";!function(n){DRTS.Form.field.select=function(e){var t=n(e);if(t.length){var a=t.find(".select2").remove().end().find("select");if(a.length){var s={escapeMarkup:function(e){return e},itemClass:t.data("select2-item-class")||"drts-form-select-item",itemIdKey:t.data("select2-item-id-key")||"id",itemTextKey:t.data("select2-item-text-key")||"title",itemImageKey:t.data("select2-item-image-key")||"image",minimumResultsForSearch:t.data("select2-search-min-results")||1/0};t.data("select2-ajax")&&(s.ajax={url:t.data("select2-ajax-url"),dataType:"json",delay:t.data("select2-ajax-delay")||250,data:function(e){return{query:e.term,page:e.page}},processResults:function(e,t){t.page=t.page||1;var a=[];return n.each(e,function(e,t){t.id=t[s.itemIdKey],t.text=t[s.itemTextKey],a.push(t)}),{results:a,pagination:{more:20*t.page<e.total}}}});var i=function(e,t){var a='<span class="'+s.itemClass+'">';return t&&(a+='<img src="'+t+'" alt="'+e+'" />'),a+=e+"</span>"};s.templateResult=function(e){return s.itemTextKey in e&&e[s.itemTextKey]?i(e[s.itemTextKey],e[s.itemImageKey]):e.text},s.templateSelection=function(e){return e.id&&e.element?i(e.text,e.element.getAttribute("data-image")):e.text},s.dropdownParent=a.closest(".drts-form-field"),a.select2(s),a.data("select2").on("results:message",function(e){this.dropdown._resizeDropdown(),this.dropdown._positionDropdown()})}}},n(DRTS).on("clonefield.sabai",function(e,t){t.clone.hasClass("drts-form-select2")&&DRTS.Form.field.select(t.clone)})}(jQuery);